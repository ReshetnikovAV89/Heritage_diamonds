<!DOCTYPE html>
<html lang="ru" id="top">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ë—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã ‚Äî —Å–æ–∑–¥–∞—ë–º –≤–º–µ—Å—Ç–µ</title>
  <link rel="stylesheet" href="./styles/variables.css" />
  <link rel="stylesheet" href="./fonts/fonts.css" />
  <link rel="stylesheet" href="./styles/globals.css" />
  <link rel="stylesheet" href="./styles/style.css" />
  <link rel="stylesheet" href="./css/animations.css" />
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" href="./images/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="./images/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#1e90ff">   
  
</head>
  <body>
    <div class="container">
      <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
      <header class="header">
        <button id="cartButton" class="cart-button" type="button" aria-controls="cartModal">
          üõí –ö–æ—Ä–∑–∏–Ω–∞
          <span id="cartCount" class="cart-count">0</span>
       </button>
        <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
       <dialog id="cartModal" class="oplata" aria-labelledby="cart-title">
         <h3 id="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</h3>
         <ul id="cartItems"></ul>
         <p>–ò—Ç–æ–≥–æ: <span id="cartTotal">0</span>‚ÇΩ</p>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã -->
        <button id="checkoutButton" class="button-cart">–û–ø–ª–∞—Ç–∏—Ç—å</button>

  <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è -->
        <form method="dialog">
        <button type="submit" class="oplata__text-end">–ó–∞–∫—Ä—ã—Ç—å</button>
        </form>
        </dialog>

  <!-- –¢–µ—Å—Ç–æ–≤–∞—è –º–æ–¥–∞–ª–∫–∞ –æ–ø–ª–∞—Ç—ã -->
        <dialog id="testPaymentModal" class="oplata" aria-labelledby="test-payment-title">
        <div class="oplata__content">
        <p id="test-payment-title" class="oplata__text">‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ.<br />–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!</p>
         </div>
        <form method="dialog" class="form">
        <button class="oplata__text-end" type="submit">–æ–∫</button>
        </form>
        </dialog>       

        <nav class="header__menu" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é">
          <ul class="header__links-list">
            <li class="header__links-list-item header__links-list-item_no-bullit">
              <a class="nav-link nav-link_active" href="#cover">–≥–ª–∞–≤–Ω–∞—è</a>
            </li>
            <li class="header__links-list-item">
              <a class="nav-link" href="#products">–Ω–∞—à–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è</a>
            </li>
            <li class="header__links-list-item">
              <a class="nav-link" href="https://checko.ru/company/nasledie-1253800008274" rel="noopener noreferrer" target="_blank">—Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏</a>
            </li>
          </ul>
        </nav>

        <a class="header__logo-link" href="/" aria-label="–ù–∞ –≥–ª–∞–≤–Ω—É—é">
          <img class="header__logo" src="./images/logo-black.svg" alt="–õ–æ–≥–æ—Ç–∏–ø Heritage" />
        </a>

        <address class="address address-item">
          <a href="tel:+79140000400">+7 914 000-04-00</a>
          <a href="mailto:connectingrussia@rambler.ru">connectingrussia@rambler.ru</a>
          <span class="address-street">
            –û–û–û "–ù–∞—Å–ª–µ–¥–∏–µ",<br /> –≥. –ò—Ä–∫—É—Ç—Å–∫
          </span>
        </address>
      </header>

      <main>
        <section class="cover" aria-label="–û–±–ª–æ–∂–∫–∞" id="cover">
          <div class="overlay" aria-hidden="true"></div>
          <h1 class="cover__title">
            <span class="cover-line cover-line-left">–ù–∞—Å–ª–µ–¥–∏–µ</span>
             <span class="cover-line">—Å–æ–∑–¥–∞–¥–∏–º</span>
             <span class="cover-line cover-line-right">–≤–º–µ—Å—Ç–µ</span>
           </h1>
          <div class="cover__description">
            <!--<p class="cover__description-text">–°–æ–∑–¥–∞–¥–∏–º –º–µ—á—Ç—É –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏</p>-->
            <button class="button" type="button" aria-controls="modal">
              <span class="button__text">–∑–∞–∫–∞–∑–∞—Ç—å</span>
            </button>
          </div>
          <dialog id="modal" class="oplata" aria-labelledby="oplata-title">
            <div class="oplata__content">
              <p id="oplata-title" class="oplata__text">
                –î–ª—è –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑–∞ –≤—ã –º–æ–∂–µ—Ç–µ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ –°–ë–ü –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ +7 914 000-04-00.
              </p>
              <p class="oplata__text">
                –ò–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ:
                <a href="https://www.avito.ru/" target="_blank" rel="noopener noreferrer" class="company__text">avito.ru</a>
              </p>
            </div>
            <form method="dialog" class="form">
              <button class="oplata__text-end" type="submit">–æ–∫</button>
            </form>
          </dialog>
        </section>

        <section id="products" class="lots" aria-label="–ù–∞—à–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è">
          <h2 class="lots__heading">–û –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h2>
          <p>
            –ù–∞—à–∏ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã:
          </p>

          <ul class="lots__card-list">
            <li class="lots__card-list-item">
              <article class="card card_type_film">
                <div class="overlay" aria-hidden="true"></div>
                <h3 class="card__title">–ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç–∞ ‚Ññ1</h3>
                <p class="card__text">–ò–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏‚Ä¶ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞‚Ä¶ –≤–µ—Å‚Ä¶ —Å—Ç–æ–∏–º–æ—Å—Ç—å</p>
                <p class="card__text">
                  –°—Ç–æ–∏–º–æ—Å—Ç—å 1000 —Ä.
                </p>
                <button class="button card__pay-btn" type="button" data-product="–ë—Ä–∏–ª–ª–∏–∞–Ω—Ç ‚Ññ1" data-amount="1000">
                  <span class="button__text">–í –∫–æ—Ä–∑–∏–Ω—É</span>
                </button>
              </article>
            </li>

            <li class="lots__card-list-item">
              <article class="card card_type_film">
                <div class="overlay" aria-hidden="true"></div>
                <h3 class="card__title">–ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∏–ª–ª–∏–∞–Ω—Ç–∞ ‚Ññ2</h3>
                <p class="card__text">–ò–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏‚Ä¶ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞‚Ä¶ –≤–µ—Å‚Ä¶ —Å—Ç–æ–∏–º–æ—Å—Ç—å </p>
                <p class="card__text">
                  —Å—Ç–æ–∏–º–æ—Å—Ç—å 1500 —Ä.
                </p>
                <button class="button card__pay-btn" type="button" data-product="–ë—Ä–∏–ª–ª–∏–∞–Ω—Ç ‚Ññ2" data-amount="1500">
                  <span class="button__text">–í –∫–æ—Ä–∑–∏–Ω—É</span>
                </button>
              </article>
            </li>

          </ul>
          <a href="#0" class="lots__look-more-link">–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª—å—à–µ (–≤–∏–¥–µ–æ –æ–±–∑–æ—Ä)</a>
        </section>

        <dialog id="videoModal" class="modal modal--video" aria-labelledby="video-title">
          <div class="modal__content">
            <video controls muted loop playsinline class="modal__video">
              <source data-src="./videos/diamond.mp4" type="video/mp4" />
              –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
            </video>
          </div>
          <form method="dialog" class="modal__form">
            <button class="modal__close" type="submit">–∑–∞–∫—Ä—ã—Ç—å</button>
          </form>
        </dialog>

        <dialog id="testPaymentModal" class="oplata" aria-labelledby="test-payment-title">
          <div class="oplata__content">
            <p id="test-payment-title" class="oplata__text">‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ.<br />–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!</p>
          </div>
          <form method="dialog" class="form">
            <button class="oplata__text-end" type="submit">–æ–∫</button>
          </form>
        </dialog>
        <!-- –ö–æ—Ä–∑–∏–Ω–∞-->
        <dialog id="cartModal" class="oplata" aria-labelledby="cart-title">
              <h3 id="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</h3>
              <ul id="cartItems"></ul>
              <p>–ò—Ç–æ–≥–æ: <span id="cartTotal">0</span>‚ÇΩ</p>
              <form method="dialog">
              <button type="submit" class="oplata__text-end">–ó–∞–∫—Ä—ã—Ç—å</button>
               </form>
        </dialog>

        <section class="about" aria-label="–æ –Ω–∞—Å" id="about">
          <div class="about-container">
            <div class="about__logo">
              <img src="./images/logo-black.svg" alt="–õ–æ–≥–æ—Ç–∏–ø Heritage" class="about__logo-image"/>
            </div>
            <div class="about__column">
              <div class="about__column-text">
                <p>
                  –û –Ω–∞—Å. –ù–∞—à–∞ –∫–æ–º–ø–∞–Ω–∏—è...
                </p>
                <p class="about__text">
                  –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏. –ú—ã –∑–∞–Ω–∏–º–∞–µ–º—Å—è..
                  <a href="https://checko.ru/company/nasledie-1253800008274" target="_blank" rel="noopener noreferrer" class="company__text">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–≤–µ–¥–µ–Ω–∏—è–º –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏</a>
                </p>
                <p class="about__text">–ü–æ—á–µ–º—É –º—ã —ç—Ç–∏–º –∑–∞–Ω–∏–º–∞–µ–º—Å—è ‚Äî —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –ø–æ–¥—Ö–æ–¥, –∫–∞—á–µ—Å—Ç–≤–æ.</p>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer">

        <div class="address address-item">
          <p><a href="tel:+79140000400">+7 914 000-04-00</a></p>
          <p><a href="mailto:connectingrussia@rambler.ru">connectingrussia@rambler.ru</a></p>
          <p>–û–û–û "–ù–∞—Å–ª–µ–¥–∏–µ,<br> –≥. –ò—Ä–∫—É—Ç—Å–∫</p>
        </div>
        <nav class="footer_menu">
          <ul>
            <li class="footer__menu-list-item"><a href="#cover" class="footer__menu-link footer__menu-link_active">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li class="footer__menu-list-item"><a href="#products" class="footer__menu-link">–ü—Ä–æ–¥—É–∫—Ü–∏—è</a></li>
            <li class="footer__menu-list-item"><a href="https://checko.ru/company/nasledie-1253800008274" target="_blank" rel="noopener noreferrer" class="footer__menu-link">–°–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏</a></li>
          </ul>

        </nav>
        <ul class="footer__social-list">
          <li class="footer__social-list-item">
            <a href="https://vk.com/" target="_blank" rel="noopener noreferrer">
              <img src="./images/vk.svg" alt="–í–ö–æ–Ω—Ç–∞–∫—Ç–µ" width="32" height="32">
            </a>
          </li>
          <li class="footer__social-list-item">
            <a href="https://t.me/" target="_blank" rel="noopener noreferrer">
              <img src="./images/tg.svg" alt="Telegram" width="32" height="32">
            </a>
          </li>
          <li class="footer__social-list-item">
            <a href="https://wa.me/79140000400" target="_blank" rel="noopener noreferrer">
              <img src="./images/whatsapp.svg" alt="WhatsApp" width="32" height="32">
            </a>
          </li>
        </ul>
      </footer>
    </div>

    <script>
// –ú–æ–¥–∞–ª–∫–∏
const modal = document.getElementById("modal");
const videoModal = document.getElementById("videoModal");
const videoElement = videoModal.querySelector("video");
const videoSource = videoElement.querySelector("source");
const testPaymentModal = document.getElementById("testPaymentModal");
const cartModal = document.getElementById("cartModal");

// –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫–∞–∑–∞—Ç—å" –Ω–∞ cover
const openModalBtn = document.querySelector(".cover .button");
if (openModalBtn) {
  openModalBtn.addEventListener("click", () => modal.showModal());
}

// –í–∏–¥–µ–æ –º–æ–¥–∞–ª–∫–∞
const lookMoreLink = document.querySelector(".lots__look-more-link");
if (lookMoreLink) {
  lookMoreLink.addEventListener("click", (e) => {
    e.preventDefault();
    if (!videoSource.src) {
      videoSource.src = videoSource.dataset.src;
      videoElement.load();
    }
    videoModal.showModal();
    videoElement.play().catch(() => {});
  });
}
videoModal.addEventListener("close", () => {
  videoElement.pause();
  videoSource.src = "";
  videoElement.load();
});

// –ö–æ—Ä–∑–∏–Ω–∞
let cart = [];
const cartItemsList = document.getElementById("cartItems");
const cartTotal = document.getElementById("cartTotal");
const cartCount = document.getElementById("cartCount"); // –°—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤

// –ö–Ω–æ–ø–∫–∏ "–í –∫–æ—Ä–∑–∏–Ω—É"
const cartButtons = document.querySelectorAll(".card__pay-btn");

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
function updateCartDisplay() {
  cartItemsList.innerHTML = "";
  let total = 0;

  cart.forEach((item, index) => {
    const li = document.createElement("li");
    li.textContent = `${item.product} ‚Äî ${item.amount}‚ÇΩ`;

    const removeBtn = document.createElement("button");
    removeBtn.textContent = "‚ùå";
    removeBtn.style.marginLeft = "10px";
    removeBtn.style.cursor = "pointer";
    removeBtn.addEventListener("click", () => {
      cart.splice(index, 1);
      updateCartDisplay();
    });

    li.appendChild(removeBtn);
    cartItemsList.appendChild(li);
    total += item.amount;
  });

  cartTotal.textContent = total;
  cartCount.textContent = cart.length; // <-- –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫ "–í –∫–æ—Ä–∑–∏–Ω—É"
cartButtons.forEach((btn) => {
  btn.addEventListener("click", (e) => {
    e.preventDefault();
    e.stopPropagation();

    const product = btn.dataset.product || "–¢–æ–≤–∞—Ä";
    const amount = Number(btn.dataset.amount) || 0;

    cart.push({ product, amount });
    updateCartDisplay();
    cartModal.showModal();
  });
});

// –ö–Ω–æ–ø–∫–∞ "–ö–æ—Ä–∑–∏–Ω–∞" –≤ header
const headerCartButton = document.getElementById("cartButton");
if (headerCartButton) {
  headerCartButton.addEventListener("click", () => {
    updateCartDisplay();
    cartModal.showModal();
  });
}

// –ö–Ω–æ–ø–∫–∞ "–û–ø–ª–∞—Ç–∏—Ç—å" –≤ –∫–æ—Ä–∑–∏–Ω–µ
const checkoutButton = document.getElementById("checkoutButton");
checkoutButton.addEventListener("click", () => {
  if (cart.length === 0) {
    alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
    return;
  }
  console.log("–¢–µ—Å—Ç–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤:", cart);
  testPaymentModal.showModal();
  cart = [];
  updateCartDisplay();
});


// –¢–µ—Å—Ç–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ (–æ—Ç–¥–µ–ª—å–Ω–æ)

const testPayButtons = document.querySelectorAll(".button.card__pay-btn-test");
testPayButtons.forEach((btn) => {
  btn.addEventListener("click", (e) => {
    e.preventDefault();
    e.stopPropagation();
    const product = btn.dataset.product || "–¢–æ–≤–∞—Ä";
    const amount = Number(btn.dataset.amount) || 0;
    console.log(`–¢–µ—Å—Ç–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞: ${product} –Ω–∞ —Å—É–º–º—É ${amount}‚ÇΩ`);
    testPaymentModal.showModal();
  });
});
    </script>
  
  </body>
</html>